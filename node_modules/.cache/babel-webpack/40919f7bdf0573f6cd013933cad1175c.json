{"ast":null,"code":"import { __awaiter } from \"tslib\";\nimport { AngularFireDatabase } from '@angular/fire/database';\nimport { AngularFirestore } from '@angular/fire/firestore';\nimport { UserService } from '../user.service';\nimport { AngularFireAuth } from '@angular/fire/auth';\nimport { ProximoEventoPage } from '../eventos-do-usuario/proximo-evento.page';\nimport { Router } from '@angular/router';\nimport { EditarModalPage } from '../editar-modal/editar-modal.page';\nimport { LoadingController, ModalController } from '@ionic/angular';\nimport { ActionSheetController } from '@ionic/angular';\nimport { EventomodalPage } from '../eventomodal/eventomodal.page';\nimport { AlertController } from '@ionic/angular';\nimport _ from 'lodash';\nimport { TutorialPage } from '../tutorial/tutorial.page';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/fire/database\";\nimport * as i2 from \"../editar-modal/editar-modal.page\";\nimport * as i3 from \"@angular/fire/firestore\";\nimport * as i4 from \"../user.service\";\nimport * as i5 from \"@angular/fire/auth\";\nimport * as i6 from \"../eventos-do-usuario/proximo-evento.page\";\nimport * as i7 from \"../tutorial/tutorial.page\";\nimport * as i8 from \"@ionic/angular\";\nimport * as i9 from \"@angular/router\";\nimport * as i10 from \"../eventomodal/eventomodal.page\";\nimport * as i11 from \"@angular/common\";\nimport * as i12 from \"@angular/forms\";\n\nfunction PerfilPage_ion_title_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-title\", 6);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r0.perfilnome);\n  }\n}\n\nfunction PerfilPage_ion_buttons_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-buttons\", 7);\n    i0.ɵɵlistener(\"click\", function PerfilPage_ion_buttons_5_Template_ion_buttons_click_0_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return ctx_r4.presentActionSheet();\n    });\n    i0.ɵɵelement(1, \"ion-icon\", 8);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PerfilPage_ion_content_6_img_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"img\", 16);\n    i0.ɵɵlistener(\"click\", function PerfilPage_ion_content_6_img_1_Template_img_click_0_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r11 = i0.ɵɵnextContext(2);\n      return ctx_r11.showmodal();\n    });\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"src\", ctx_r6.perfilimg, i0.ɵɵsanitizeUrl);\n  }\n}\n\nfunction PerfilPage_ion_content_6_ion_list_3_ion_item_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-item\", 19);\n    i0.ɵɵlistener(\"click\", function PerfilPage_ion_content_6_ion_list_3_ion_item_1_Template_ion_item_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r16);\n      const item_r14 = restoredCtx.$implicit;\n      const ctx_r15 = i0.ɵɵnextContext(3);\n      return ctx_r15.meuslugares(item_r14.lugar);\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r14 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", item_r14.lugar, \" \");\n  }\n}\n\nfunction PerfilPage_ion_content_6_ion_list_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-list\", 17);\n    i0.ɵɵtemplate(1, PerfilPage_ion_content_6_ion_list_3_ion_item_1_Template, 2, 1, \"ion-item\", 18);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r7.todositems);\n  }\n}\n\nfunction PerfilPage_ion_content_6_ion_item_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r19 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-item\", 20);\n    i0.ɵɵlistener(\"click\", function PerfilPage_ion_content_6_ion_item_10_Template_ion_item_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r19);\n      const evento_r17 = restoredCtx.$implicit;\n      const ctx_r18 = i0.ɵɵnextContext(2);\n      return ctx_r18.modalevento(evento_r17);\n    });\n    i0.ɵɵelementStart(1, \"ion-thumbnail\");\n    i0.ɵɵelement(2, \"img\", 21);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"h2\", 22);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"ion-badge\", 23);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const evento_r17 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", evento_r17.url, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", evento_r17.nome, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(evento_r17.UPnum);\n  }\n}\n\nfunction PerfilPage_ion_content_6_ion_item_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r22 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-item\", 20);\n    i0.ɵɵlistener(\"click\", function PerfilPage_ion_content_6_ion_item_12_Template_ion_item_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r22);\n      const evento_r20 = restoredCtx.$implicit;\n      const ctx_r21 = i0.ɵɵnextContext(2);\n      return ctx_r21.modalevento(evento_r20);\n    });\n    i0.ɵɵelementStart(1, \"ion-thumbnail\");\n    i0.ɵɵelement(2, \"img\", 21);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"h2\", 22);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"ion-badge\", 23);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const evento_r20 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", evento_r20.url, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", evento_r20.nome, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(evento_r20.UPnum);\n  }\n}\n\nfunction PerfilPage_ion_content_6_ion_slide_15_ion_item_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r27 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-item\", 26);\n    i0.ɵɵelementStart(1, \"ion-thumbnail\", 27);\n    i0.ɵɵlistener(\"click\", function PerfilPage_ion_content_6_ion_slide_15_ion_item_5_Template_ion_thumbnail_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r27);\n      const evento_r25 = restoredCtx.$implicit;\n      const ctx_r26 = i0.ɵɵnextContext(3);\n      return ctx_r26.modalevento(evento_r25);\n    });\n    i0.ɵɵelement(2, \"img\", 21);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"h2\", 28);\n    i0.ɵɵlistener(\"click\", function PerfilPage_ion_content_6_ion_slide_15_ion_item_5_Template_h2_click_3_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r27);\n      const evento_r25 = restoredCtx.$implicit;\n      const ctx_r28 = i0.ɵɵnextContext(3);\n      return ctx_r28.modalevento(evento_r25);\n    });\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"ion-button\", 29);\n    i0.ɵɵlistener(\"click\", function PerfilPage_ion_content_6_ion_slide_15_ion_item_5_Template_ion_button_click_5_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r27);\n      const evento_r25 = restoredCtx.$implicit;\n      const ctx_r29 = i0.ɵɵnextContext(3);\n      return ctx_r29.deletaract(evento_r25);\n    });\n    i0.ɵɵtext(6, \" Excluir \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const evento_r25 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", evento_r25.url, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", evento_r25.nome, \" \");\n  }\n}\n\nfunction PerfilPage_ion_content_6_ion_slide_15_ion_item_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r32 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-item\", 26);\n    i0.ɵɵelementStart(1, \"ion-thumbnail\", 27);\n    i0.ɵɵlistener(\"click\", function PerfilPage_ion_content_6_ion_slide_15_ion_item_7_Template_ion_thumbnail_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r32);\n      const evento_r30 = restoredCtx.$implicit;\n      const ctx_r31 = i0.ɵɵnextContext(3);\n      return ctx_r31.modalevento(evento_r30);\n    });\n    i0.ɵɵelement(2, \"img\", 21);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"h2\", 28);\n    i0.ɵɵlistener(\"click\", function PerfilPage_ion_content_6_ion_slide_15_ion_item_7_Template_h2_click_3_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r32);\n      const evento_r30 = restoredCtx.$implicit;\n      const ctx_r33 = i0.ɵɵnextContext(3);\n      return ctx_r33.modalevento(evento_r30);\n    });\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"ion-button\", 29);\n    i0.ɵɵlistener(\"click\", function PerfilPage_ion_content_6_ion_slide_15_ion_item_7_Template_ion_button_click_5_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r32);\n      const evento_r30 = restoredCtx.$implicit;\n      const ctx_r34 = i0.ɵɵnextContext(3);\n      return ctx_r34.deletaract(evento_r30);\n    });\n    i0.ɵɵtext(6, \" Excluir \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const evento_r30 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", evento_r30.url, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", evento_r30.nome, \" \");\n  }\n}\n\nfunction PerfilPage_ion_content_6_ion_slide_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r36 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-slide\");\n    i0.ɵɵelementStart(1, \"div\");\n    i0.ɵɵelementStart(2, \"a\", 12);\n    i0.ɵɵtext(3, \"Eventos Publicados\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"ion-list\");\n    i0.ɵɵtemplate(5, PerfilPage_ion_content_6_ion_slide_15_ion_item_5_Template, 7, 2, \"ion-item\", 24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"ion-list\");\n    i0.ɵɵtemplate(7, PerfilPage_ion_content_6_ion_slide_15_ion_item_7_Template, 7, 2, \"ion-item\", 24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"ion-infinite-scroll\", 25);\n    i0.ɵɵlistener(\"ionInfinite\", function PerfilPage_ion_content_6_ion_slide_15_Template_ion_infinite_scroll_ionInfinite_8_listener($event) {\n      i0.ɵɵrestoreView(_r36);\n      const ctx_r35 = i0.ɵɵnextContext(2);\n      return ctx_r35.loadcriados($event);\n    });\n    i0.ɵɵelement(9, \"ion-infinite-scroll-content\", 15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r10 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r10.criados);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r10.criados2);\n  }\n}\n\nfunction PerfilPage_ion_content_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r38 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-content\");\n    i0.ɵɵtemplate(1, PerfilPage_ion_content_6_img_1_Template, 1, 1, \"img\", 9);\n    i0.ɵɵelementStart(2, \"ion-searchbar\", 10);\n    i0.ɵɵlistener(\"ionInput\", function PerfilPage_ion_content_6_Template_ion_searchbar_ionInput_2_listener($event) {\n      i0.ɵɵrestoreView(_r38);\n      const ctx_r37 = i0.ɵɵnextContext();\n      return ctx_r37.getItems($event);\n    })(\"click\", function PerfilPage_ion_content_6_Template_ion_searchbar_click_2_listener() {\n      i0.ɵɵrestoreView(_r38);\n      const ctx_r39 = i0.ɵɵnextContext();\n      return ctx_r39.abriu();\n    })(\"ngModelChange\", function PerfilPage_ion_content_6_Template_ion_searchbar_ngModelChange_2_listener($event) {\n      i0.ɵɵrestoreView(_r38);\n      const ctx_r40 = i0.ɵɵnextContext();\n      return ctx_r40.cidade = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, PerfilPage_ion_content_6_ion_list_3_Template, 2, 1, \"ion-list\", 11);\n    i0.ɵɵelementStart(4, \"ion-slides\");\n    i0.ɵɵelementStart(5, \"ion-slide\");\n    i0.ɵɵelementStart(6, \"div\");\n    i0.ɵɵelementStart(7, \"a\", 12);\n    i0.ɵɵtext(8, \"Lista de Up\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"ion-list\");\n    i0.ɵɵtemplate(10, PerfilPage_ion_content_6_ion_item_10_Template, 7, 3, \"ion-item\", 13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"ion-list\");\n    i0.ɵɵtemplate(12, PerfilPage_ion_content_6_ion_item_12_Template, 7, 3, \"ion-item\", 13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"ion-infinite-scroll\", 14);\n    i0.ɵɵlistener(\"ionInfinite\", function PerfilPage_ion_content_6_Template_ion_infinite_scroll_ionInfinite_13_listener($event) {\n      i0.ɵɵrestoreView(_r38);\n      const ctx_r41 = i0.ɵɵnextContext();\n      return ctx_r41.loadups($event);\n    });\n    i0.ɵɵelement(14, \"ion-infinite-scroll-content\", 15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(15, PerfilPage_ion_content_6_ion_slide_15_Template, 10, 2, \"ion-slide\", 4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.perfilimg);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.cidade);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.cidade.length > 0 || ctx_r2.abrir);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.ups);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.ups2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.criados.length > 0);\n  }\n}\n\nfunction PerfilPage_ion_content_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-content\", 30);\n    i0.ɵɵelementStart(1, \"div\", 31);\n    i0.ɵɵelementStart(2, \"h1\", 32);\n    i0.ɵɵtext(3, \"Bem Vindo\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\");\n    i0.ɵɵelementStart(5, \"ion-col\");\n    i0.ɵɵelementStart(6, \"ion-button\", 33);\n    i0.ɵɵtext(7, \"Criar\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"ion-button\", 34);\n    i0.ɵɵtext(9, \"Login\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nexport let PerfilPage = /*#__PURE__*/(() => {\n  class PerfilPage {\n    constructor(afd, editar, firestore, user, afAuth, proxEvento, tutorial, modalCtrl, route, actionSheetCtrl, alertController, loadingC, eventModal) {\n      this.afd = afd;\n      this.editar = editar;\n      this.firestore = firestore;\n      this.user = user;\n      this.afAuth = afAuth;\n      this.proxEvento = proxEvento;\n      this.tutorial = tutorial;\n      this.modalCtrl = modalCtrl;\n      this.route = route;\n      this.actionSheetCtrl = actionSheetCtrl;\n      this.alertController = alertController;\n      this.loadingC = loadingC;\n      this.eventModal = eventModal;\n      this.hjdia = new Date().toISOString();\n      this.item = \"\";\n      this.cidade = \"\";\n      this.abrir = false;\n      this.perfilUP = false;\n      this.escolha = \"Data\";\n      this.criados = new Array();\n      this.criados2 = new Array();\n      this.ups = new Array();\n      this.ups2 = new Array();\n    }\n\n    ionViewDidEnter() {\n      return __awaiter(this, void 0, void 0, function* () {\n        this.dadosperfil(); //bug entrar com outra conta\n\n        this.afAuth.onAuthStateChanged(user => {\n          if (user) {\n            // User is signed in, see docs for a list of available properties\n            // https://firebase.google.com/docs/reference/js/firebase.User\n            var uid = user.uid;\n            var res = user;\n            this.usuario = res.uid;\n            this.getDataFromFire();\n            this.user.listadecriados(res.uid);\n            this.criados = this.user.w;\n            this.user.listadeup(res.uid);\n            this.ups = this.user.y;\n          } else {\n            this.noAuth = true;\n          }\n        });\n      });\n    }\n\n    ngOnInit() {\n      return __awaiter(this, void 0, void 0, function* () {});\n    }\n\n    presentActionSheet() {\n      return __awaiter(this, void 0, void 0, function* () {\n        const actionSheet = yield this.actionSheetCtrl.create({\n          header: 'Configurações',\n          cssClass: 'my-custom-class',\n          buttons: [{\n            text: 'Tutorial',\n            icon: 'help',\n            handler: () => {\n              this.showmodalTutorial();\n            }\n          }, {\n            text: 'Criar Evento',\n            icon: 'add',\n            handler: () => {\n              this.route.navigate(['/add']);\n            }\n          }, {\n            text: 'Editar perfil',\n            icon: 'settings',\n            handler: () => {\n              this.showmodal();\n            }\n          }, {\n            text: 'Ordenar eventos por ' + this.escolha,\n            icon: 'options',\n            handler: () => {\n              this.orderBy();\n            }\n          }, {\n            text: 'Sair',\n            role: 'destructive',\n            icon: 'log-out',\n            handler: () => {\n              this.logout();\n            }\n          }, {\n            text: 'Cancel',\n            icon: 'close',\n            role: 'cancel',\n            handler: () => {\n              console.log('Cancel clicked');\n            }\n          }]\n        });\n        yield actionSheet.present();\n      });\n    }\n\n    presentLoading() {\n      return __awaiter(this, void 0, void 0, function* () {\n        this.loading = yield this.loadingC.create({\n          cssClass: 'my-custom-class',\n          message: 'Espere um momento...',\n          duration: 2000\n        });\n        yield this.loading.present();\n      });\n    }\n\n    modalevento(zeta) {\n      return __awaiter(this, void 0, void 0, function* () {\n        const modal = yield this.modalCtrl.create({\n          component: EventomodalPage,\n          componentProps: {\n            customid: zeta\n          }\n        });\n        modal.present();\n        ;\n        this.eventModal.criandomodal(zeta);\n      });\n    }\n\n    orderBy() {\n      this.user.ordenar(this.usuario, this.perfilUP);\n    }\n\n    voltar() {\n      this.route.navigate(['./home']);\n    }\n\n    showmodalTutorial() {\n      return __awaiter(this, void 0, void 0, function* () {\n        const modal = yield this.modalCtrl.create({\n          component: TutorialPage,\n          componentProps: {}\n        });\n        modal.present();\n      });\n    }\n\n    dadosperfil() {\n      return __awaiter(this, void 0, void 0, function* () {\n        const res = yield this.afAuth.currentUser;\n\n        if (res != null) {\n          this.noAuth = false;\n          this.mainuser = this.firestore.doc(`users/${res.uid}`);\n          this.sub = this.mainuser.valueChanges().subscribe(usuario => {\n            this.perfilnome = usuario.username;\n            this.perfilimg = usuario.imgUser;\n            this.perfilUP = usuario.UP;\n\n            if (this.perfilUP == false) {\n              this.escolha = \"Data\";\n            } else {\n              this.escolha = \"UP\";\n            }\n          });\n        }\n      });\n    }\n\n    showmodal() {\n      return __awaiter(this, void 0, void 0, function* () {\n        const modal = yield this.modalCtrl.create({\n          component: EditarModalPage,\n          componentProps: {}\n        });\n        modal.present();\n        ;\n        this.editar.criandomodal();\n      });\n    }\n\n    initializeItems() {\n      this.items;\n      console.log(this.items);\n    }\n\n    abriu() {\n      this.abrir = !this.abrir;\n    }\n\n    getItems(ev) {\n      // Reset items back to all of the items\n      this.todositems = this.items;\n      this.allitems = this.todositems;\n      let val = ev.target.value;\n      console.log(this.todositems);\n\n      if (val && val.trim() != '') {\n        this.todositems = _.values(this.allitems);\n        this.todositems = this.todositems.filter(cidade => {\n          return cidade.lugar.toLocaleLowerCase().indexOf(val.toLowerCase()) > -1;\n        });\n      } else {\n        this.todositems = this.allitems;\n      }\n    }\n\n    logout() {\n      this.presentLoading();\n      this.afAuth.signOut().then(function () {}).catch(function (error) {\n        console.log(error); // An error happened.\n      });\n      setTimeout(() => {\n        this.route.navigate(['/criar-user']);\n      }, 3500);\n      this.ngOnDestroy();\n      this.loadingC.dismiss();\n    }\n\n    loadups(event) {\n      setTimeout(() => {\n        console.log();\n\n        if (this.ups2.length == 0) {\n          this.user.listadeup2(this.usuario);\n          this.ups2 = this.user.y2;\n          const uniqueUps2 = this.ups2.filter(function (elem, i, array) {\n            return array.indexOf(elem) === i;\n          });\n          this.ups2 = uniqueUps2;\n        }\n\n        event.target.complete();\n      }, 2000);\n    }\n\n    loadcriados(event) {\n      setTimeout(() => {\n        console.log();\n\n        if (this.criados2.length == 0) {\n          this.user.listadecriados2(this.usuario);\n          this.criados2 = this.user.w2;\n        }\n\n        event.target.complete();\n      }, 2000);\n    }\n\n    getDataFromFire() {\n      this.afd.list('cidades').valueChanges().subscribe(data => {\n        this.trataDados(data);\n      });\n    }\n\n    trataDados(dados) {\n      this.items = Object.keys(dados).map(i => dados[i]);\n      this.todositems = this.items;\n    }\n\n    meuslugares(item) {\n      return __awaiter(this, void 0, void 0, function* () {\n        // esta fazendo 4 leituras na home por cada alteração\n        var meulugar = item;\n        const res = yield this.afAuth.currentUser;\n        console.log(meulugar, \"aki\");\n        this.firestore.collection(`users`).doc(`${res.uid}`).update({\n          cidade: meulugar\n        });\n        this.afd.database.ref(`users/${res.uid}/cidade`).set(meulugar);\n      });\n    }\n\n    deletaract(rte) {\n      return __awaiter(this, void 0, void 0, function* () {\n        const alert = yield this.alertController.create({\n          header: 'Excluir Evento?',\n          message: 'Esta ação não poderá ser desfeita',\n          buttons: [{\n            text: 'Cancelar',\n            handler: () => {}\n          }, {\n            text: 'Confirmar',\n            handler: () => {\n              this.delete(rte);\n            }\n          }]\n        });\n        yield alert.present();\n      });\n    }\n\n    delete(evento) {\n      this.firestore.collection(\"eventos\").doc(`${evento.id}`).delete().then(function () {\n        console.log(\"Document successfully deleted!\");\n      });\n      this.afd.database.ref(`eventDetails/${evento.chave2}`).remove();\n      console.log(evento.id);\n      this.showalert(\"Excluido!\", \"O evento irá desaparecer em instantes.\");\n    }\n\n    showalert(header, message) {\n      return __awaiter(this, void 0, void 0, function* () {\n        const alert = yield this.alertController.create({\n          header,\n          message,\n          buttons: [\"Ok\"]\n        });\n        yield alert.present();\n      });\n    }\n\n    ngOnDestroy() {\n      console.log(\"Destroy perfil\");\n      this.user.w = [];\n      this.user.w2 = [];\n      this.user.y = [];\n      this.user.w2 = [];\n      this.criados = [];\n      this.criados2 = [];\n      this.ups = [];\n      this.ups2 = [];\n    }\n\n    ionViewDidLeave() {\n      return __awaiter(this, void 0, void 0, function* () {\n        this.user.w = [];\n        this.user.w2 = [];\n        this.user.y = [];\n        this.user.w2 = [];\n        this.criados = [];\n        this.criados2 = [];\n        this.ups = [];\n        this.ups2 = [];\n      });\n    }\n\n  }\n\n  PerfilPage.ɵfac = function PerfilPage_Factory(t) {\n    return new (t || PerfilPage)(i0.ɵɵdirectiveInject(i1.AngularFireDatabase), i0.ɵɵdirectiveInject(i2.EditarModalPage), i0.ɵɵdirectiveInject(i3.AngularFirestore), i0.ɵɵdirectiveInject(i4.UserService), i0.ɵɵdirectiveInject(i5.AngularFireAuth), i0.ɵɵdirectiveInject(i6.ProximoEventoPage), i0.ɵɵdirectiveInject(i7.TutorialPage), i0.ɵɵdirectiveInject(i8.ModalController), i0.ɵɵdirectiveInject(i9.Router), i0.ɵɵdirectiveInject(i8.ActionSheetController), i0.ɵɵdirectiveInject(i8.AlertController), i0.ɵɵdirectiveInject(i8.LoadingController), i0.ɵɵdirectiveInject(i10.EventomodalPage));\n  };\n\n  PerfilPage.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: PerfilPage,\n    selectors: [[\"app-perfil\"]],\n    decls: 8,\n    vars: 4,\n    consts: [[\"class\", \"title\", \"size\", \"large\", 4, \"ngIf\"], [\"slot\", \"start\"], [\"defaultHref\", \"home\", \"text\", \"\", 3, \"click\"], [\"slot\", \"end\", 3, \"click\", 4, \"ngIf\"], [4, \"ngIf\"], [\"padding\", \"\", \"class\", \"ff\", 4, \"ngIf\"], [\"size\", \"large\", 1, \"title\"], [\"slot\", \"end\", 3, \"click\"], [\"name\", \"menu-outline\", \"size\", \"large\"], [\"class\", \"imagem\", 3, \"src\", \"click\", 4, \"ngIf\"], [\"placeholder\", \"Escolher cidade\", \"clearInput\", \"\", 1, \"searchbar\", 3, \"ngModel\", \"ionInput\", \"click\", \"ngModelChange\"], [\"class\", \"filtro\", 4, \"ngIf\"], [1, \"a\"], [\"lines\", \"none\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [\"threshold\", \"40%\", 3, \"ionInfinite\"], [\"loadingSpinner\", \"bubbles\", \"loadingText\", \"Carregando...\"], [1, \"imagem\", 3, \"src\", \"click\"], [1, \"filtro\"], [\"class\", \"filtro\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"filtro\", 3, \"click\"], [\"lines\", \"none\", 3, \"click\"], [1, \"imag\", 3, \"src\"], [1, \"com\"], [\"slot\", \"end\"], [\"lines\", \"none\", 4, \"ngFor\", \"ngForOf\"], [\"threshold\", \"20%\", 3, \"ionInfinite\"], [\"lines\", \"none\"], [3, \"click\"], [1, \"com\", 3, \"click\"], [\"color\", \"primary\", \"routerDirection\", \"backyard\", 1, \"excl\", 3, \"click\"], [\"padding\", \"\", 1, \"ff\"], [1, \"spa\\u00E7o\"], [1, \"title\"], [\"color\", \"primary\", \"routerLink\", \"/criar\", 2, \"padding-left\", \"75px\"], [\"color\", \"primary\", \"routerLink\", \"/login\", 2, \"padding-right\", \"75px\"]],\n    template: function PerfilPage_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"ion-header\");\n        i0.ɵɵelementStart(1, \"ion-toolbar\");\n        i0.ɵɵtemplate(2, PerfilPage_ion_title_2_Template, 2, 1, \"ion-title\", 0);\n        i0.ɵɵelementStart(3, \"ion-buttons\", 1);\n        i0.ɵɵelementStart(4, \"ion-back-button\", 2);\n        i0.ɵɵlistener(\"click\", function PerfilPage_Template_ion_back_button_click_4_listener() {\n          return ctx.voltar();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(5, PerfilPage_ion_buttons_5_Template, 2, 0, \"ion-buttons\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(6, PerfilPage_ion_content_6_Template, 16, 6, \"ion-content\", 4);\n        i0.ɵɵtemplate(7, PerfilPage_ion_content_7_Template, 10, 0, \"ion-content\", 5);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.perfilnome && ctx.noAuth == false);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.noAuth == false);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.noAuth == false);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.noAuth == true);\n      }\n    },\n    directives: [i8.IonHeader, i8.IonToolbar, i11.NgIf, i8.IonButtons, i8.IonBackButton, i8.IonBackButtonDelegate, i8.IonTitle, i8.IonIcon, i8.IonContent, i8.IonSearchbar, i8.TextValueAccessor, i12.NgControlStatus, i12.NgModel, i8.IonSlides, i8.IonSlide, i8.IonList, i11.NgForOf, i8.IonInfiniteScroll, i8.IonInfiniteScrollContent, i8.IonItem, i8.IonThumbnail, i8.IonBadge, i8.IonButton, i8.IonCol, i8.RouterLinkDelegate, i9.RouterLink],\n    styles: [\"@charset \\\"UTF-8\\\";.Perfil[_ngcontent-%COMP%]{text-align:center;color:#fff;size:large}ion-content[_ngcontent-%COMP%]{--ion-background-color: #000000}ion-toolbar[_ngcontent-%COMP%]{--padding-top: 15px ;--background: black}ion-icon[_ngcontent-%COMP%]{color:#fff}.title[_ngcontent-%COMP%]{text-align:center;color:#fff}.badge[_ngcontent-%COMP%]{--padding-end: }ion-item[_ngcontent-%COMP%]{--background: black;color:#fff}.p[_ngcontent-%COMP%]{color:#fff}.titlee[_ngcontent-%COMP%]{text-align:center;color:#fff;background-color:#000}.spa\\\\e7o[_ngcontent-%COMP%]{text-align:center;color:#fff;background-color:#000;margin-top:25em}.searchbar[_ngcontent-%COMP%]{--color: #FFFFFF;--placeholder-color:#FFFFFF;--background:#1C1C1C}.excl[_ngcontent-%COMP%]{padding-left:1ex}.imagem[_ngcontent-%COMP%]{border-radius:50%;display:block;margin-left:auto;margin-right:auto;width:250px;height:250px}.a[_ngcontent-%COMP%]{margin-top:1ex;font-family:sans-serif;font-style:Trebuchet;font-weight:bold;font-size:x-large}.centertt[_ngcontent-%COMP%]{text-align:center;background-color:#000;color:#fff}.com[_ngcontent-%COMP%]{font-size:3ex;padding-left:1ex;font-family:sans-serif;font-style:Trebuchet;font-weight:bold;color:#fff;padding-bottom:1ex}.imag[_ngcontent-%COMP%]{padding-top:1ex;padding-bottom:1ex}.sub[_ngcontent-%COMP%]{font-size:15px;color:#5f5f5f;padding-left:2ex;font-family:sans-serif;font-style:Trebuchet;font-weight:bold}\"]\n  });\n  return PerfilPage;\n})();","map":null,"metadata":{},"sourceType":"module"}